<div xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:ice="http://www.icesoft.com/icefaces/component"
     xmlns:ace="http://www.icefaces.org/icefaces/components"
     xmlns:ui="http://java.sun.com/jsf/facelets"     
     >
    
    <input type="hidden" id="subpath" value='#{usuarioController.usuarioEdicion.id > 0 ? accion.editar : accion.nuevo}'/>    
              
    <ice:form>

        <ace:panel header="#{etiqueta.datosGenerales}">

        <ice:panelGrid columns="3">

            <ice:outputLabel value="#{etiqueta.cedula}"></ice:outputLabel>
            <ice:inputText id="txtCedula" label="#{etiqueta.cedula}" maxlength="10" 
                            value="#{usuarioController.usuarioEdicion.cedula}" 
                            validator="#{usuarioController.validarCedula}" 
                            required="true"
                            styleClass="numeric"
                            partialSubmit="true"
                            >
                <f:validateLength minimum="10"></f:validateLength>
            </ice:inputText>
            <ice:message id="msgCedula" for="txtCedula"></ice:message>

            <ice:outputLabel value="#{etiqueta.nombres}"></ice:outputLabel>
            <ice:inputText id="txtNombres"  label="#{etiqueta.nombres}" value="#{usuarioController.usuarioEdicion.nombres}" required="true" > </ice:inputText>
            <ice:message id="msgNombres" for="txtNombres"></ice:message>

            <ice:outputLabel value="#{etiqueta.apellidos}"></ice:outputLabel>
            <ice:inputText  id="txtApellidos" label="#{etiqueta.apellidos}" value="#{usuarioController.usuarioEdicion.apellidos}" required="true" > </ice:inputText>
            <ice:message id="msgApellidos" for="txtApellidos"   ></ice:message>

            <ice:outputLabel value="#{etiqueta.localidad}"></ice:outputLabel>
            <ice:inputText  id="txtLocalidad" label="#{etiqueta.localidad}" value="#{usuarioController.usuarioEdicion.localidad}" required="true" > </ice:inputText>
            <ice:message id="msgLocalidad" for="txtLocalidad"   ></ice:message>

            <ice:outputLabel value="#{etiqueta.login}"></ice:outputLabel>
            <ice:inputText id="txtLogin" label="#{etiqueta.login}" value="#{usuarioController.usuarioEdicion.login}" validator="#{usuarioController.validarLogin}" required="true" >
                <f:validateLength minimum="5"></f:validateLength>
            </ice:inputText>
            <ice:message id="msgLogin" for="txtLogin"></ice:message>

            <ice:outputLabel value="#{etiqueta.clave}"></ice:outputLabel>
            <ice:inputSecret id="txtClave" label="#{etiqueta.clave}" value="#{usuarioController.usuarioEdicion.clave}" required="true" redisplay="true" >
                <f:validateLength minimum="5"></f:validateLength>
            </ice:inputSecret>
            <ice:message id="msgClave" for="txtClave"   ></ice:message>

            <ice:outputLabel value="#{etiqueta.estado}"></ice:outputLabel>
            <ice:panelGrid columns="2">
                <ice:selectBooleanCheckbox id="sbcbACtivo" label="#{etiqueta.estado}"  value="#{usuarioController.usuarioEdicion.activo}" partialSubmit="true" immediate="true"> </ice:selectBooleanCheckbox>
                <ice:outputText value="#{usuarioController.usuarioEdicion.activo ? etiqueta.activo : etiqueta.inactivo}"></ice:outputText>
            </ice:panelGrid>
            <ice:message for="sbcbACtivo"></ice:message>

        </ice:panelGrid>


        </ace:panel>

        <br/>

        <ace:panel header="#{mensaje.seleccionPerfiles}">

        <ice:dataTable id="dataTable1" value="#{usuarioController.usuarioEdicion.perfiles}" var="perfil" rows="10" scrollHeight="250px">
            <ice:column id="column1">
                <center>
                    <ice:selectBooleanCheckbox id="sbcbSeleccionado"  value="#{perfil.seleccionado}"/>
                </center>
                <f:facet name="header">
                    <ice:outputText id="outputText2" value="#{accion.activar}/#{accion.desactivar}"/>
                </f:facet>
            </ice:column>
            <ice:column id="column2">
                <ice:outputText id="outputText3" value="#{perfil.nombre}"/>
                <f:facet name="header">
                    <ice:outputText id="outputText4" value="#{etiqueta.nombre}"/>
                </f:facet>
            </ice:column>
            <ice:column id="column3">
                <ice:outputText id="outputText5" value="#{perfil.descripcion}"/>
                <f:facet name="header">
                    <ice:outputText id="outputText6" value="#{etiqueta.descripcion}"/>
                </f:facet>
            </ice:column>                    
        </ice:dataTable>
        </ace:panel>

        <br/>
        
        <div class="controles">
            <ace:panel>            
                <ice:commandLink id="btnGuardar" actionListener="#{usuarioController.eventoGuardar}" styleClass="ui-icon-disk cail-button" value="#{accion.guardar}"></ice:commandLink>
                <ice:commandLink id="btnCancelar" immediate="true" actionListener="#{usuarioController.eventoCancelar}" styleClass="ui-icon-cancel cail-button" value="#{accion.cancelar}"></ice:commandLink>
            </ace:panel>
        </div>        

    </ice:form>
    
</div>
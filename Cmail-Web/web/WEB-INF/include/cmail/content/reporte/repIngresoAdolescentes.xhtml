<div xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:ice="http://www.icesoft.com/icefaces/component"
     xmlns:ace="http://www.icefaces.org/icefaces/components"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     >    
        
    <ice:form> 

        <div class="opciones">
            <ace:panel>
                <ice:panelGrid columns="5">
                <ice:outputText value="#{etiqueta.desde}"></ice:outputText>
                <h:panelGrid>
                    <ace:dateTimeEntry 
                        id="sidDesde" 
                        label="#{etiqueta.desde}" 
                        value="#{reporteController.desde}"
                        renderAsPopup="true"   
                        required="true"                      
                        navigator="true"                        
                        showOn="both"
                        popupIconOnly="true"
                        locale="es"
                        pattern="dd/MM/yyyy">
                        <f:convertDateTime timeZone="#{mainController.timeZone}" pattern="dd/MM/yyyy" />
                    </ace:dateTimeEntry>
                    <ice:message for="sidDesde"></ice:message>
                </h:panelGrid>

                <ice:outputText value="#{etiqueta.hasta}"></ice:outputText>
                <h:panelGrid>
                    <ace:dateTimeEntry 
                        id ="sidHasta" 
                        label="#{etiqueta.hasta}" 
                        value="#{reporteController.hasta}"
                        renderAsPopup="true"   
                        required="true"                      
                        navigator="true"                        
                        showOn="both"
                        popupIconOnly="true"
                        locale="es"
                        pattern="dd/MM/yyyy">
                        <f:convertDateTime timeZone="#{mainController.timeZone}" pattern="dd/MM/yyyy" />
                    </ace:dateTimeEntry>
                    <ice:message for="sidHasta"></ice:message>
                </h:panelGrid>

            <ice:commandLink id="btnBuscar" actionListener="#{reporteController.eventoBuscarIngresos}" styleClass="ui-icon-search cail-button" value="#{accion.buscar}"></ice:commandLink>

            </ice:panelGrid>
            </ace:panel>
        </div>                
        
        <!--
        <a target="rep" href="#{reporteController.ruta}">Download</a>
        -->
        
        <ace:panel rendered="#{reporteController.listaIngresos.size() > 0}">                
            <ice:outputText title="Exportar a pdf">
                <ice:outputResource fileName="IngresoAdolescentes.pdf" 
                                    attachment="false"
                                    label="PDF"
                                    mimeType="application/pdf"
                                    shared="false"
                                    target="rep"
                                    image="/resources/icono/accion/reporte-png.png"
                                    lastModified="#{reporteController.recursoIngreso.lastModified()}"
                                    resource="#{reporteController.recursoIngreso}">                                        
                </ice:outputResource>                    
            </ice:outputText>
        </ace:panel>

        <ice:dataTable id="dataTable1" value="#{reporteController.listaIngresos}" var="p" rows="10" scrollHeight="250px" width="100%">

            <f:facet name="header">
                <ice:columnGroup>                        

                    <ice:headerRow>
                        <ice:column>                                
                            <ice:outputText value="#{etiqueta.fecha}"></ice:outputText>
                        </ice:column>

                        <ice:column>                                
                            <ice:outputText value="#{etiqueta.cedula}"></ice:outputText>
                        </ice:column>

                        <ice:column>                                
                            <ice:outputText value="#{etiqueta.nombres}"></ice:outputText>
                        </ice:column>

                        <ice:column>                                
                            <ice:outputText value="#{etiqueta.apellidos}"></ice:outputText>
                        </ice:column>


                    </ice:headerRow>

                </ice:columnGroup>
            </f:facet>                                

            <ice:column id="column1">
                <ice:outputText id="outputText1" value="#{p.fecha}"/>                    
            </ice:column>

            <ice:column id="column2">
                <ice:outputText id="outputText2" value="#{p.cedula}"/>                    
            </ice:column>

            <ice:column id="column3">
                <ice:outputText id="outputText3" value="#{p.nombres}"/>                    
            </ice:column>

            <ice:column id="column4">
                <ice:outputText id="outputText4" value="#{p.apellidos}"/>                    
            </ice:column>

        </ice:dataTable>
        
                        
        
    </ice:form>
    
    <!--
    <iframe id="rep" name="rep" width="500" height="500" border="1">            
    </iframe>
    -->
    
    
    
</div>
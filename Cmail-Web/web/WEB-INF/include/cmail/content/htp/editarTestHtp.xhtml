<div 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:h="http://java.sun.com/jsf/html" 
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:ice="http://www.icesoft.com/icefaces/component" 
    xmlns:ui="http://java.sun.com/jsf/facelets"    
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ace="http://www.icefaces.org/icefaces/components"
    
    xmlns:cailcomp="http://java.sun.com/jsf/composite/cailcomp">        
    
    <ui:include src="/WEB-INF/include/cmail/content/wuc/wucBuscarPersona.xhtml"/>

    <h2>Ingreso Formulario H-T-P (<b>Esquema:</b> #{formHtpController.formEdicion.esquema.nombre})</h2>
    <br/>

    <ice:form id="form" xmlns:c="http://java.sun.com/jsp/jstl/core">
        <ice:messages id="messages"></ice:messages>                    
        <br/>
        
        <ace:panel header="Identificación del Adolescente" toggleable="true">
        <ice:panelGrid columns="3" width="100%" columnClasses="columnsPanelGrid">
            <ice:panelGrid columns="2" rowClasses="rowsPanelGrid"> 
                <ice:outputLabel value="#{etiqueta.cedula}" for="txtCedulaAdolescente"/>
                <ice:panelGrid columns="4" style="border: 1px solid #c0c0c0; background: #cccccc; width: auto">
                    <ice:inputText id="txtCedulaAdolescente" value="#{formHtpController.formEdicion.adolescente.cedula}" style="height: 24px; margin: 0; padding: 0;" disabled="true">
                    </ice:inputText>
                </ice:panelGrid>
                <ice:outputLabel value="#{etiqueta.nombres}"/>
                <ice:panelGrid>
                    <ice:inputText id="txtNombresAdolescente" label="#{etiqueta.nombres}" value="#{formHtpController.formEdicion.adolescente.nombres}" required="true" disabled="true"></ice:inputText>
                    <ice:message for="txtNombresAdolescente"></ice:message>
                </ice:panelGrid>
            </ice:panelGrid>
            <ice:panelGrid columns="2" rowClasses="rowsPanelGrid"> 
                <ice:outputLabel value="Sexo"/>
                <cailcomp:selectOneMenuSexo id="selectSexo" value="#{formHtpController.formEdicion.adolescente.sexo}" ice="false" disabled="true"></cailcomp:selectOneMenuSexo>
                <ice:outputLabel value="#{etiqueta.apellidos}"/>
                <ice:panelGrid>
                    <ice:inputText id="txtApellidosAdolescente" label="#{etiqueta.apellidos}" value="#{formHtpController.formEdicion.adolescente.apellidos}" disabled="true"></ice:inputText>
                    <ice:message for="txtApellidosAdolescente"></ice:message>
                </ice:panelGrid>
            </ice:panelGrid>
            <ice:panelGrid columns="2" rowClasses="rowsPanelGrid"> 
                <ice:outputLabel value="Estado Civil"/>
                <cailcomp:selectOneMenuEstadoCivil id="selectEstadoCivil" value="#{formHtpController.formEdicion.adolescente.estadoCivil}" ice="false" disabled="true"></cailcomp:selectOneMenuEstadoCivil>                
            </ice:panelGrid>            

        </ice:panelGrid>   
        </ace:panel>

        <br/>
        
        <ace:panel header="Dibujos" toggleable="true">
        <ice:panelGrid columns="3">

            <ice:panelGrid style="border: dotted 1px green;" styleClass="subir">
                <ice:outputText value="DIBUJO CASA"></ice:outputText>
                <ice:graphicImage alt="Imagen1" width="250" height="250" value="#{formHtpController.dibujoCasa}"></ice:graphicImage>

                <ice:panelLayout layout="flow">
                    <ice:outputLabel value="Tiempo Latencia:"/>
                    <ice:inputText value="#{formHtpController.formEdicion.tiempoLatenciaCasa}" styleClass="decimal"
                    ></ice:inputText>
                </ice:panelLayout>

                <ice:panelLayout layout="flow">
                    <ice:outputLabel value="Tiempo Duración:"/>
                    <ice:inputText value="#{formHtpController.formEdicion.tiempoDuracionCasa}" styleClass="decimal"
                    ></ice:inputText>
                </ice:panelLayout>

                <ice:panelGrid columns="2">
                    <ace:fileEntry label="Casa"                                    
                                   fileEntryListener="#{formHtpController.listenerUploadCasa}"
                                   useOriginalFilename="true"
                                   useSessionSubdir="true"
                                   relativePath="/documentos/imagenes/"                                   
                                   >
                    </ace:fileEntry> 
                    <h:commandButton value="Subir"></h:commandButton>                                                
                </ice:panelGrid>

                <ice:panelGrid columns="2">
                    <ice:inputHidden id="txtSubCasa"></ice:inputHidden>
                    <ice:message for="txtSubCasa"></ice:message>
                </ice:panelGrid>

            </ice:panelGrid>

            <ice:panelGrid style="border: dotted 1px green" styleClass="subir">
                <ice:outputText value="DIBUJO ÁRBOL"></ice:outputText>
                <ice:graphicImage alt="Imagen2" width="250" height="250" value="#{formHtpController.dibujoArbol}"></ice:graphicImage>

                <ice:panelLayout layout="flow">
                    <ice:outputLabel value="Tiempo Latencia"/>
                    <ice:inputText value="#{formHtpController.formEdicion.tiempoLatenciaArbol}" styleClass="decimal"
                    ></ice:inputText>                
                </ice:panelLayout>

                <ice:panelLayout layout="flow">
                    <ice:outputLabel value="Tiempo Duración"/>
                    <ice:inputText value="#{formHtpController.formEdicion.tiempoDuracionArbol}" styleClass="decimal"
                    ></ice:inputText>
                </ice:panelLayout>

                <ice:panelGrid columns="2">
                    <ace:fileEntry label="Árbol" 
                                   fileEntryListener="#{formHtpController.listenerUploadArbol}" 
                                   useOriginalFilename="true"
                                   useSessionSubdir="true"
                                   relativePath="/documentos/imagenes/">
                    </ace:fileEntry>                        
                    <h:commandButton value="Subir"></h:commandButton>                                                
                </ice:panelGrid>

                <ice:panelGrid columns="2">
                    <ice:inputHidden id="txtSubArbol"></ice:inputHidden>
                    <ice:message for="txtSubArbol"></ice:message>
                </ice:panelGrid>

            </ice:panelGrid>

            <ice:panelGrid style="border: dotted 1px green" styleClass="subir">
                <ice:outputText value="DIBUJO PERSONA"></ice:outputText>
                <ice:graphicImage alt="Imagen3" width="250" height="250" value="#{formHtpController.dibujoPersona}"></ice:graphicImage>

                <ice:panelLayout layout="flow">
                    <ice:outputLabel value="Tiempo Latencia"/>
                    <ice:inputText value="#{formHtpController.formEdicion.tiempoLatenciaPersona}" styleClass="decimal"
                    ></ice:inputText>                                
                </ice:panelLayout>

                <ice:panelLayout layout="flow">
                    <ice:outputLabel value="Tiempo Duración"/>
                    <ice:inputText value="#{formHtpController.formEdicion.tiempoDuracionPersona}" styleClass="decimal"
                    ></ice:inputText>
                </ice:panelLayout>

                <ice:panelGrid columns="2">
                    <ace:fileEntry  label="Persona" 
                                    fileEntryListener="#{formHtpController.listenerUploadPersona}" 
                                    useOriginalFilename="true"
                                    useSessionSubdir="true"
                                    relativePath="/documentos/imagenes/">
                    </ace:fileEntry>
                    <h:commandButton value="Subir"></h:commandButton>                                                
                </ice:panelGrid>

                <ice:panelGrid columns="2">
                    <ice:inputHidden id="txtSubPersona" ></ice:inputHidden>
                    <ice:message for="txtSubPersona"></ice:message>
                </ice:panelGrid>
            </ice:panelGrid>

        </ice:panelGrid>            
        </ace:panel>
        
        <br/>

        <ace:tabSet immediate="true" clientSide="true">

            <ace:tabPane label="Casa">
                <ice:dataTable id="dataTableCasa" value="#{formHtpController.respuestasCasa}" var="rta">
                    <ice:column>
                        <ice:panelGrid>     
                            <ice:panelGrid columns="2">
                                <ice:outputText value="#{rta.esquemaPregunta.numero}.- #{rta.esquemaPregunta.enunciado}" style="font-weight: bold"></ice:outputText>
                                <ice:outputText value="#{rta.esquemaPregunta.requerida ? '(*)' : ''}" style="color: red;"></ice:outputText>
                            </ice:panelGrid>
                            <ice:inputTextarea id="txtEnunciado" value="#{rta.respuesta}" required="#{rta.esquemaPregunta.requerida}" label="#{rta.esquemaPregunta.numero}.- #{rta.esquemaPregunta.enunciado}" cols="120"></ice:inputTextarea>                    
                            <ice:message for="txtEnunciado"></ice:message>
                        </ice:panelGrid>
                    </ice:column>
                </ice:dataTable>
            </ace:tabPane>

            <ace:tabPane label="Árbol">
                <ice:dataTable id="dataTableArbol" value="#{formHtpController.respuestasArbol}" var="rta">                                       
                    <ice:column>
                        <ice:panelGrid columns="2">
                                <ice:outputText value="#{rta.esquemaPregunta.numero}.- #{rta.esquemaPregunta.enunciado}" style="font-weight: bold"></ice:outputText>
                                <ice:outputText value="#{rta.esquemaPregunta.requerida ? '(*)' : ''}" style="color: red;"></ice:outputText>
                            </ice:panelGrid>
                        <ice:panelGrid>                            
                            <ice:inputTextarea id="txtEnunciado" value="#{rta.respuesta}" required="#{rta.esquemaPregunta.requerida}" label="#{rta.esquemaPregunta.numero}.- #{rta.esquemaPregunta.enunciado}"  cols="120"></ice:inputTextarea>                    
                            <ice:message for="txtEnunciado"></ice:message>
                        </ice:panelGrid>
                    </ice:column>
                </ice:dataTable>
            </ace:tabPane>

            <ace:tabPane label="Persona">
                <ice:dataTable id="dataTablePersona" value="#{formHtpController.respuestasPersona}" var="rta">                                           
                    <ice:column>
                        <ice:panelGrid columns="2">
                            <ice:outputText value="#{rta.esquemaPregunta.numero}.- #{rta.esquemaPregunta.enunciado}" style="font-weight: bold"></ice:outputText>
                            <ice:outputText value="#{rta.esquemaPregunta.requerida ? '(*)' : ''}" style="color: red;"></ice:outputText>
                        </ice:panelGrid>
                        <ice:panelGrid>                            
                            <ice:inputTextarea id="txtEnunciado" value="#{rta.respuesta}" required="#{rta.esquemaPregunta.requerida}" label="#{rta.esquemaPregunta.numero}.- #{rta.esquemaPregunta.enunciado}" cols="120"></ice:inputTextarea>                    
                            <ice:message for="txtEnunciado"></ice:message>
                        </ice:panelGrid>
                    </ice:column>
                </ice:dataTable>
            </ace:tabPane>

        </ace:tabSet>



        <br/>
        
        <div class="controles">
        <ace:panel>
            <c:if test="#{formHtpController.formEdicion.id == -1}">
                <ice:commandLink id="btnGuardar" actionListener="#{formHtpController.eventoGuardar}" styleClass="ui-icon-disk cail-button" value="#{accion.guardar}"></ice:commandLink>
            </c:if>
            <ice:commandLink id="btnCancelar" immediate="true" actionListener="#{formHtpController.eventoCancelar}" styleClass="ui-icon-cancel cail-button" value="#{accion.cancelar}"></ice:commandLink>
        </ace:panel>
        </div>
        
    </ice:form>
    
</div>

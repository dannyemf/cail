<div 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:h="http://java.sun.com/jsf/html" 
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:ice="http://www.icesoft.com/icefaces/component" 
    xmlns:ui="http://java.sun.com/jsf/facelets"    
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ace="http://www.icefaces.org/icefaces/components"
    
    xmlns:cailcomp="http://java.sun.com/jsf/composite/cailcomp">        

    <ice:form id="form">
        <ice:messages id="messages"></ice:messages>                        
        <br/>
        
        <ace:panel header="#{etiqueta.adolescente}" toggleable="true">
            <cailcomp:outputAdolescente adolescente="#{formHtpController.interpretacion.adolescente}"></cailcomp:outputAdolescente>
            
            <ice:outputLabel value="#{etiqueta.numeroFichaIngreso}"></ice:outputLabel>
            <ice:outputText value="#{formHtpController.interpretacion.fichaIngreso.id}"></ice:outputText>
        </ace:panel>
        
        <br/>
        
        <ace:panel header="#{etiqueta.historiaAdolescente}" toggleable="true">
            <ice:inputTextarea id="txtHistoria" label="#{etiqueta.historiaAdolescente}" value="#{formHtpController.interpretacion.historiaAdolescente}" required="true" style="width: 100%;" rows="5"></ice:inputTextarea>
            <ice:message for="txtHistoria"></ice:message>
        </ace:panel>

        <br/>
        
        <ace:panel header="#{etiqueta.comentariosSobreConductaAdolescente}" toggleable="true">
            <ice:inputTextarea id="txtComentarios" label="#{etiqueta.comentariosSobreConductaAdolescente}" value="#{formHtpController.interpretacion.comentarioConducta}" required="true" style="width: 100%;" rows="5"></ice:inputTextarea>
            <ice:message for="txtComentarios"></ice:message>
        </ace:panel>
        
        <br/>
        
        <ace:panel header="#{etiqueta.duracion}" toggleable="true">
            <ice:panelGrid columns="2">
                <ice:outputLabel value="#{etiqueta.horaInicioTest}: "></ice:outputLabel>
                <ice:outputText value="#{formHtpController.interpretacion.testHtp.horaInicio}">
                    <f:convertDateTime pattern="HH:mm:ss" timeZone="#{mainController.timeZone}"></f:convertDateTime>
                </ice:outputText>

                <ice:outputLabel value="#{etiqueta.horaFinTest}: "></ice:outputLabel>
                <ice:outputText value="#{formHtpController.interpretacion.testHtp.horaFin}">
                    <f:convertDateTime pattern="HH:mm:ss" timeZone="#{mainController.timeZone}"></f:convertDateTime>
                </ice:outputText>

                <ice:outputLabel value="#{etiqueta.duracion}: "></ice:outputLabel>
                <ice:outputText value="#{formHtpController.interpretacion.testHtp.duracionMinutos} #{etiqueta.minutos}">
                </ice:outputText>
            </ice:panelGrid>
        </ace:panel>
        
        <br/>
        
        <ace:panel header="#{etiqueta.graficoProporcion}" toggleable="true">
            <ice:inputTextarea id="txtGraficoProporcion" label="#{etiqueta.graficoProporcion}" value="#{formHtpController.interpretacion.graficoProporcion}" required="true" style="width: 100%;" rows="5"></ice:inputTextarea>
            <ice:message for="txtGraficoProporcion"></ice:message>
        </ace:panel>
        
        <br/>
        
        <ace:panel header="#{etiqueta.graficoPerspectiva}" toggleable="true">
            <ice:inputTextarea id="txtGraficoPerspectiva" label="#{etiqueta.graficoPerspectiva}" value="#{formHtpController.interpretacion.graficoPerspectiva}" required="true" style="width: 100%;" rows="5"></ice:inputTextarea>
            <ice:message for="txtGraficoPerspectiva"></ice:message>
        </ace:panel>
        
        <br/>
        
        <ace:panel header="#{etiqueta.graficoDetalles}" toggleable="true">
            <ice:inputTextarea id="txtGraficoDetalles" label="#{etiqueta.graficoDetalles}" value="#{formHtpController.interpretacion.graficoDetalle}" required="true" style="width: 100%;" rows="5"></ice:inputTextarea>
            <ice:message for="txtGraficoDetalles"></ice:message>
        </ace:panel>
        
        <br/>
        
        <ace:panel header="#{etiqueta.interrogativoPosteriorAdolescente}" toggleable="true">
            <ice:inputTextarea id="txtInterrogativo" label="#{etiqueta.interrogativoPosteriorAdolescente}" value="#{formHtpController.interpretacion.interrogativoPosterior}" required="true" style="width: 100%;" rows="5"></ice:inputTextarea>
            <ice:message for="txtInterrogativo"></ice:message>
        </ace:panel>
        
        <br/>
        
        <ace:panel header="#{etiqueta.resumenPsicologo}" toggleable="true">
            <ice:panelGrid style="width: 100%;">
                <ice:inputTextarea id="txtResumenPsico" label="#{etiqueta.resumenPsicologo}" value="#{formHtpController.interpretacion.resumenPsicologo}" required="true" style="width: 100%;" rows="5"></ice:inputTextarea>
                <ice:message for="txtResumenPsico"></ice:message>
            </ice:panelGrid>
            
            <ice:panelGrid columns="3">
                <ice:outputLabel value="#{etiqueta.nivelRehabilitacion} %"></ice:outputLabel>
                <ice:inputText
                    id="txtPorcentaje"
                    label="#{etiqueta.nivelRehabilitacion}"
                    value="#{formHtpController.interpretacion.porcenjateRehabilitacionEvaluador}"                           
                    validator="porcentajeValidator">
                </ice:inputText>                
                <ice:message for="txtPorcentaje"></ice:message>
            </ice:panelGrid>
        </ace:panel>
        
        <br/>
        
        <div class="controles">
            <ace:panel>                 
                <ice:commandLink id="btnGuardar" rendered="#{formHtpController.interpretacion.id lt 0}" actionListener="#{formHtpController.eventoGuardarInterpretacion}" styleClass="ui-icon-disk cail-button" value="#{accion.guardar}"></ice:commandLink>
                <ice:commandLink id="btnCancelar" immediate="true" actionListener="#{formHtpController.eventoCancelar}" styleClass="ui-icon-cancel cail-button" value="#{accion.cancelar}"></ice:commandLink>
            </ace:panel>
        </div>
    </ice:form>    
</div>
